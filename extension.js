var e={d:(t,n)=>{for(var a in n)e.o(n,a)&&!e.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:n[a]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},t={};function n(){let e=new Date(Date.now());return window.roamAlphaAPI.util.dateToPageTitle(e)}function a(e){let t="dark-theme-css-parent";if(1==e){let e="roam/css";o=e,a=roamAlphaAPI.q(`[:find (pull ?e [:block/uid]) :where [?e :node/title "${o}"]]`)?.[0]?.[0].uid||function(e){let t=roamAlphaAPI.util.generateUID();return roamAlphaAPI.data.page.create({page:{title:e,uid:t}}),t}(e),r=t,roamAlphaAPI.createBlock({location:{"parent-uid":a,order:0},block:{string:`SIMPLE CSS DARK THEME [[${n()}]]`,uid:r,open:!1,heading:3}}),roamAlphaAPI.createBlock({location:{"parent-uid":r,order:0},block:{uid:"dark-theme-css",string:"```css\n \n        :root{\n            /*REGULAR THEME COLOR VARIABLES*/\n        }\n        :root .rm-dark-theme {\n            /*DARK MODE COLOR THEME VARIABLES*/\n            --background:#000;\n            --text:#fff;\n        }\n        html.rm-dark-theme   {\n            filter: invert(100%);\n            -webkit-filter: invert(100%);\n            -webkit-transition: .8s -webkit-filter ease;\n            transition: .8s filter ease, .8s -webkit-filter ease;\n        \n        }\n        .rm-dark-theme .roam-sidebar-container{\n            background-color: var(--text) !important;\n            transition: .8s background-color ease;\n        }\n        .rm-dark-theme img {\n            filter: invert(100%) !important;\n            -webkit-filter: invert(100%) !important;\n            -webkit-transition: .8s -webkit-filter ease;\n            transition: .8s filter ease, .8s -webkit-filter ease;\n        }\n        .rm-dark-theme .rm-extensions-marketplace, \n        .rm-dark-theme .rm-extensions-marketplace-search,\n        .rm-dark-theme .rm-settings>*,\n        .rm-dark-theme .rm-settings-tabs>*,\n        .rm-dark-theme .rm-settings--desktop .rm-settings-tabs .bp3-tab-list,\n        .rm-dark-theme .bp3-tabs.bp3-vertical>.bp3-tab-panel,\n        .rm-dark-theme .rm-extensions-settings,\n        .rm-dark-theme .rm-settings--desktop .rm-settings__tab:not(.rm-settings__panel-wrapper){\n            background-color:white !important;\n            color:black !important;\n        }\n        .rm-extensions-marketplace .rm-extension-small:hover{\n            color:white !important;\n          }\n        .codemirror-colorview{\n        filter: invert(100%) !important;\n        }\n     ```"}})}else 0==e&&(t,roamAlphaAPI.deleteBlock({block:{uid:"dark-theme-css-parent"}}));var a,r,o}e.d(t,{Z:()=>m});let r={extensionAPI:null,settingsDefault:{"dark-mode":!1,"add-simple-theme":!1}};const o={tabTitle:"Dark Mode Toggle",settings:[{id:"add-simple-theme",name:"Add Simple Dark Theme CSS",description:"Adds the CSS for a simple dark mode theme to the [[roam/css]] page",action:{type:"switch",onChange:e=>{a(e.target.checked),console.log("Switch!",e.target.checked)}}}]};function s(){if(document.body.classList.contains("rm-dark-theme")){let e=document.getElementsByClassName("bp3-icon-flash")[0];e.classList.remove("bp3-icon-flash"),e.classList.add("bp3-icon-moon"),document.body.classList.toggle("rm-dark-theme"),document.getElementsByTagName("html")[0].classList.toggle("rm-dark-theme")}else{let e=document.getElementsByClassName("bp3-icon-moon")[0];e.classList.remove("bp3-icon-moon"),e.classList.add("bp3-icon-flash"),document.body.classList.toggle("rm-dark-theme"),document.getElementsByTagName("html")[0].classList.toggle("rm-dark-theme")}}const m={onload:function({extensionAPI:e}){console.log("load dark mode toggle plugin"),r.extensionAPI=e,e.settings.panel.create(o),function(){var e="toggleDarkMode";if(!document.getElementById(`${e}-flex-space`)){var t=(e=>{const t=document.createElement("span");t.className="bp3-button bp3-minimal bp3-small dm-toggle",t.tabIndex=0;const n=document.createElement("span");return n.className="bp3-icon bp3-icon-moon",t.appendChild(n),t})(),n=document.getElementsByClassName("rm-topbar")[0].lastElementChild,a=document.createElement("div");a.className="rm-topbar__spacer-sm dm-toggle",a.id=e+"-flex-space";var r=document.createElement("div");r.className="rm-topbar__spacer-sm dm-toggle",r.id=e+"-flex-space-after",n.insertAdjacentElement("afterend",t),t.insertAdjacentElement("beforebegin",a),t.insertAdjacentElement("afterend",r),t.addEventListener("click",s)}}()},onunload:function(){document.body.classList.remove("rm-dark-theme"),document.querySelectorAll(".dm-toggle").forEach((e=>{e.remove()})),a(!1),console.log("unload dark mode toggle plugin")}};var i=t.Z;export{i as default};